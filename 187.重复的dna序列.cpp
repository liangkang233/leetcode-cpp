/*
 * @lc app=leetcode.cn id=187 lang=cpp
 *
 * [187] 重复的DNA序列
 */

#include <iostream>
#include <vector>
#include <string>
#include <unordered_set>
#include <unordered_map>
using namespace std;

// @lc code=start
class Solution {
public:
    // 将对应字符串 转为7进制的数据 ACGT 对应 0 1 2 3
    vector<string> findRepeatedDnaSequences(string s) {
        vector<string> ans;
        if(s.size() > 10) {
            int temp = 0, num = pow(7, 9);
            unordered_map<int, int> mymap1;         // 记录对应串的映射值 和出现次数
            unordered_map<char, int> mymap{{'A', 0}, {'C', 1}, {'G', 2}, {'T', 3}};   // 记录对应字符的映射值
            for (int i = 9; i >=0; i--)
                temp = temp * 7 + mymap[s[i]];
            // cout << temp << endl;
            mymap1[temp] = 1;
            for (int i = 10; i < s.size(); i++) { // 遍历长度为10的窗口
                temp = temp/7 + mymap[s[i]]*num;
                // cout << temp << " " << i << endl;
                mymap1[temp]++;
                if(mymap1[temp] == 2)
                    ans.push_back(s.substr(i-9, 10));
            }
        }
        return ans;
    }
};
// @lc code=end
// "AAAAAAAAAAAAA"\n
// "AAAAACCAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCACCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAAGGGTTT"\n
// "AAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCACCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAAAAAAACCCCCAAAAAACCAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCACCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAAAAAAACCCCCAAAAACCCCCCAAAAAGAAAAACCAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCACCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAGGGCAAAAAAAAAACCAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCACCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAAGGGTTTAAAAACCAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCACCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAAGGGTTTAAAAACCAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCACCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAAGGGTTTAAAAACCAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCACCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAAGGGTTTAAAAACCAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAAGGGTTTCCAACCCCCAAAAACCCCCCAAAAAGGAAAAAGGGTTTCCCAAAAGTTTCCCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGCAAAAAAAAACCCCCAAAAACCCCCCAAAAAGGGTTTACCCCCCAAAAACCCCCAAAAACCCCCC"\n